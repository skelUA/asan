==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_printf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_sprintf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_snprintf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_fprintf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_vprintf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_vsprintf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_vsnprintf'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__isoc99_vfprintf'
==4332==Registered root region at 0x7ffff3f016e0 of size 96
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff3f016e0 of size 96
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept 'pthread_mutexattr_getrobust_np'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept 'xdr_quad_t'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept 'xdr_u_quad_t'
==4332==Registered root region at 0x7ffff4501310 of size 80
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff4501310 of size 80
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept 'xdr_destroy'
==4332==Registered root region at 0x7ffff3d00f40 of size 64
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff3d00f40 of size 64
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept 'crypt'
==4332==Registered root region at 0x7ffff3d00f40 of size 64
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff3d00f40 of size 64
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept 'crypt_r'
==4332==Registered root region at 0x7ffff3f016e0 of size 96
==4332==Registered root region at 0x7ffff41007a0 of size 32
==4332==Unregistered root region at 0x7ffff3f016e0 of size 96
==4332==Unregistered root region at 0x7ffff41007a0 of size 32
==4332==AddressSanitizer: failed to intercept '__cxa_rethrow_primary_exception'
==4332==AddressSanitizer: libc interceptors initialized
|| `[0x10007fff8000, 0x7fffffffffff]` || HighMem    ||
|| `[0x02008fff7000, 0x10007fff7fff]` || HighShadow ||
|| `[0x00008fff7000, 0x02008fff6fff]` || ShadowGap  ||
|| `[0x00007fff8000, 0x00008fff6fff]` || LowShadow  ||
|| `[0x000000000000, 0x00007fff7fff]` || LowMem     ||
MemToShadow(shadow): 0x00008fff7000 0x000091ff6dff 0x004091ff6e00 0x02008fff6fff
redzone=16
max_redzone=2048
quarantine_size_mb=256M
thread_local_quarantine_size_kb=1024K
malloc_context_size=30
SHADOW_SCALE: 3
SHADOW_GRANULARITY: 8
SHADOW_OFFSET: 0x7fff8000
==4332==Installed the sigaction for signal 11
==4332==Installed the sigaction for signal 7
==4332==Installed the sigaction for signal 8
==4332==T0: FakeStack created: 0x7ffff29f7000 -- 0x7ffff3500000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T0: stack [0x7fffff7ff000,0x7ffffffff000) size 0x800000; local=0x7fffffffe024
==4332==AddressSanitizer Init done
==4332==T1: FakeStack created: 0x7fffefff5000 -- 0x7ffff0afe000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T1: stack [0x7ffff1300000,0x7ffff1afee80) size 0x7fee80; local=0x7ffff1afeda4
==4332==T2: FakeStack created: 0x7fffef4ec000 -- 0x7fffefff5000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T2: stack [0x7ffff0aff000,0x7ffff12fde80) size 0x7fee80; local=0x7ffff12fdda4
==4332==T3: FakeStack created: 0x7fffee1e2000 -- 0x7fffeeceb000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T3: stack [0x7fffeecec000,0x7fffef4eae80) size 0x7fee80; local=0x7fffef4eada4
==4332==T4: FakeStack created: 0x7fffeced8000 -- 0x7fffed9e1000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T4: stack [0x7fffed9e2000,0x7fffee1e0e80) size 0x7fee80; local=0x7fffee1e0da4
==4332==T5: FakeStack created: 0x7fffebbce000 -- 0x7fffec6d7000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T5: stack [0x7fffec6d8000,0x7fffeced6e80) size 0x7fee80; local=0x7fffeced6da4
==4332==T6: FakeStack created: 0x7fffea8c4000 -- 0x7fffeb3cd000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T6: stack [0x7fffeb3ce000,0x7fffebbcce80) size 0x7fee80; local=0x7fffebbccda4
==4332==T7: FakeStack created: 0x7fffe95ba000 -- 0x7fffea0c3000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T7: stack [0x7fffea0c4000,0x7fffea8c2e80) size 0x7fee80; local=0x7fffea8c2da4
==4332==T8: FakeStack created: 0x7fffe82b0000 -- 0x7fffe8db9000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T8: stack [0x7fffe8dba000,0x7fffe95b8e80) size 0x7fee80; local=0x7fffe95b8da4
==4332==T9: FakeStack created: 0x7fffe6fa6000 -- 0x7fffe7aaf000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T9: stack [0x7fffe7ab0000,0x7fffe82aee80) size 0x7fee80; local=0x7fffe82aeda4
==4332==T10: FakeStack created: 0x7fffcb8f3000 -- 0x7fffcc3fc000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T10: stack [0x7fffe2858000,0x7fffe3056e80) size 0x7fee80; local=0x7fffe3056da4
==4332==T11: FakeStack created: 0x7fffc4de4000 -- 0x7fffc58ed000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T11: stack [0x7fffd9adf000,0x7fffda2dde80) size 0x7fee80; local=0x7fffda2ddda4
==4332==T12: FakeStack created: 0x7fffc3ada000 -- 0x7fffc45e3000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T12: stack [0x7fffd6368000,0x7fffd6b66e80) size 0x7fee80; local=0x7fffd6b66da4
==4332==T13: FakeStack created: 0x7fffc27d0000 -- 0x7fffc32d9000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T13: stack [0x7fffc45e4000,0x7fffc4de2e80) size 0x7fee80; local=0x7fffc4de2da4
==4332==T14: FakeStack created: 0x7fffc14c6000 -- 0x7fffc1fcf000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T14: stack [0x7fffc32da000,0x7fffc3ad8e80) size 0x7fee80; local=0x7fffc3ad8da4
==4332==T15: FakeStack created: 0x7fffc01bc000 -- 0x7fffc0cc5000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T15: stack [0x7fffc1fd0000,0x7fffc27cee80) size 0x7fee80; local=0x7fffc27ceda4
==4332==T16: FakeStack created: 0x7fffbf6b3000 -- 0x7fffc01bc000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T16: stack [0x7fffc0cc6000,0x7fffc14c4e80) size 0x7fee80; local=0x7fffc14c4da4
==4332==T17: FakeStack created: 0x7fffb9029000 -- 0x7fffb9b32000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T17: stack [0x7fffba334000,0x7fffbab32e80) size 0x7fee80; local=0x7fffbab32da4
==4332==T18: FakeStack created: 0x7fffb8520000 -- 0x7fffb9029000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T18: stack [0x7fffb9b33000,0x7fffba331e80) size 0x7fee80; local=0x7fffba331da4
==4332==T19: FakeStack created: 0x7fffb7216000 -- 0x7fffb7d1f000 stack_size_log: 20; mmapped 11300K, noreserve=0 
==4332==T19: stack [0x7fffb7d20000,0x7fffb851ee80) size 0x7fee80; local=0x7fffb851eda4
=================================================================
==4332==ERROR: AddressSanitizer: heap-use-after-free on address 0x60300a2dc070 at pc 0x555556d98466 bp 0x7fffc27ce310 sp 0x7fffc27ce308
READ of size 8 at 0x60300a2dc070 thread T15
    #0 0x555556d98465 in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:28
    #1 0x555556d98465 in void std::__invoke_impl<void, boss_laj::ScheduleTasks()::'lambda0'()&>(std::__invoke_other, boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #2 0x555556d98465 in std::enable_if<is_invocable_r_v<void, boss_laj::ScheduleTasks()::'lambda0'()&>, void>::type std::__invoke_r<void, boss_laj::ScheduleTasks()::'lambda0'()&>(boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #3 0x555556d98465 in std::_Function_handler<void (), boss_laj::ScheduleTasks()::'lambda0'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #4 0x5555573d5038 in std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #5 0x5555573d5038 in ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2::operator()(TaskContext) const /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:330:9
    #6 0x5555573d5038 in void std::__invoke_impl<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(std::__invoke_other, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #7 0x5555573d5038 in std::enable_if<is_invocable_r_v<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>, void>::type std::__invoke_r<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #8 0x5555573d5038 in std::_Function_handler<void (TaskContext), ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2>::_M_invoke(std::_Any_data const&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #9 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #10 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #11 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #12 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #13 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #14 0x5555573d232c in BossAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:728:15
    #15 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #16 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #17 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #18 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #19 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #20 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #21 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #22 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #23 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #24 0x555558382cfe in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #25 0x555558382cfe in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:732:17
    #26 0x555558383616 in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:805:9
    #27 0x5555583a2f66 in InstanceMap::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:3043:10
    #28 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #29 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #30 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #31 0x7ffff6d31ac2 in start_thread nptl/./nptl/pthread_create.c:442:8
    #32 0x7ffff6dc384f  misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81

0x60300a2dc070 is located 16 bytes inside of 24-byte region [0x60300a2dc060,0x60300a2dc078)
freed by thread T15 here:
    #0 0x555555edc5bd in operator delete(void*) (/opt/azeroth-server/bin/worldserver+0x9885bd) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x555556d98a3a in __gnu_cxx::new_allocator<std::_List_node<LajTransformData> >::deallocate(std::_List_node<LajTransformData>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:145:2
    #2 0x555556d98a3a in std::allocator<std::_List_node<LajTransformData> >::deallocate(std::_List_node<LajTransformData>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:199:25
    #3 0x555556d98a3a in std::allocator_traits<std::allocator<std::_List_node<LajTransformData> > >::deallocate(std::allocator<std::_List_node<LajTransformData> >&, std::_List_node<LajTransformData>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:496:13
    #4 0x555556d98a3a in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::_M_put_node(std::_List_node<LajTransformData>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:447:9
    #5 0x555556d98a3a in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::_M_clear() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/list.tcc:81:4
    #6 0x555556d98a3a in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::~_List_base() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:500:9
    #7 0x555556d98a3a in std::add_const<decltype(*(std::begin(fp)))>::type& Acore::Containers::SelectRandomContainerElementIf<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)>(std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > const&, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)&&) /opt/wotlk_prod/src/common/Utilities/Containers.h:153:5
    #8 0x555556d982cd in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:30
    #9 0x555556d982cd in void std::__invoke_impl<void, boss_laj::ScheduleTasks()::'lambda0'()&>(std::__invoke_other, boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #10 0x555556d982cd in std::enable_if<is_invocable_r_v<void, boss_laj::ScheduleTasks()::'lambda0'()&>, void>::type std::__invoke_r<void, boss_laj::ScheduleTasks()::'lambda0'()&>(boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #11 0x555556d982cd in std::_Function_handler<void (), boss_laj::ScheduleTasks()::'lambda0'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #12 0x5555573d5038 in std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #13 0x5555573d5038 in ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2::operator()(TaskContext) const /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:330:9
    #14 0x5555573d5038 in void std::__invoke_impl<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(std::__invoke_other, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #15 0x5555573d5038 in std::enable_if<is_invocable_r_v<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>, void>::type std::__invoke_r<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #16 0x5555573d5038 in std::_Function_handler<void (TaskContext), ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2>::_M_invoke(std::_Any_data const&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #17 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #18 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #19 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #20 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #21 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #22 0x5555573d232c in BossAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:728:15
    #23 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #24 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #25 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #26 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #27 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #28 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #29 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #30 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #31 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #32 0x555558382cfe in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #33 0x555558382cfe in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:732:17
    #34 0x555558383616 in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:805:9
    #35 0x5555583a2f66 in InstanceMap::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:3043:10
    #36 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #37 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #38 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

previously allocated by thread T15 here:
    #0 0x555555edbd5d in operator new(unsigned long) (/opt/azeroth-server/bin/worldserver+0x987d5d) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x555556d98750 in __gnu_cxx::new_allocator<std::_List_node<LajTransformData> >::allocate(unsigned long, void const*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:127:27
    #2 0x555556d98750 in std::allocator<std::_List_node<LajTransformData> >::allocate(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:185:32
    #3 0x555556d98750 in std::allocator_traits<std::allocator<std::_List_node<LajTransformData> > >::allocate(std::allocator<std::_List_node<LajTransformData> >&, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:464:20
    #4 0x555556d98750 in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::_M_get_node() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:443:16
    #5 0x555556d98750 in std::_List_node<LajTransformData>* std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >::_M_create_node<LajTransformData const&>(LajTransformData const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:635:21
    #6 0x555556d98750 in std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >::insert(std::_List_const_iterator<LajTransformData>, LajTransformData const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/list.tcc:108:22
    #7 0x555556d98750 in std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > >::operator=(LajTransformData const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_iterator.h:929:20
    #8 0x555556d98750 in std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > > std::copy_if<std::_List_const_iterator<LajTransformData>, std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)>(std::_List_const_iterator<LajTransformData>, std::_List_const_iterator<LajTransformData>, std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algo.h:702:16
    #9 0x555556d98750 in std::add_const<decltype(*(std::begin(fp)))>::type& Acore::Containers::SelectRandomContainerElementIf<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)>(std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > const&, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)&&) /opt/wotlk_prod/src/common/Utilities/Containers.h:149:9
    #10 0x555556d982cd in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:30
    #11 0x555556d982cd in void std::__invoke_impl<void, boss_laj::ScheduleTasks()::'lambda0'()&>(std::__invoke_other, boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #12 0x555556d982cd in std::enable_if<is_invocable_r_v<void, boss_laj::ScheduleTasks()::'lambda0'()&>, void>::type std::__invoke_r<void, boss_laj::ScheduleTasks()::'lambda0'()&>(boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #13 0x555556d982cd in std::_Function_handler<void (), boss_laj::ScheduleTasks()::'lambda0'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #14 0x5555573d5038 in std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #15 0x5555573d5038 in ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2::operator()(TaskContext) const /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:330:9
    #16 0x5555573d5038 in void std::__invoke_impl<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(std::__invoke_other, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #17 0x5555573d5038 in std::enable_if<is_invocable_r_v<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>, void>::type std::__invoke_r<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #18 0x5555573d5038 in std::_Function_handler<void (TaskContext), ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2>::_M_invoke(std::_Any_data const&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #19 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #20 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #21 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #22 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #23 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #24 0x5555573d232c in BossAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:728:15
    #25 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #26 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #27 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #28 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #29 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #30 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #31 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #32 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #33 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #34 0x555558382cfe in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #35 0x555558382cfe in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:732:17
    #36 0x555558383616 in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:805:9
    #37 0x5555583a2f66 in InstanceMap::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:3043:10
    #38 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #39 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #40 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

Thread T15 created by T0 here:
    #0 0x555555e8a40c in pthread_create (/opt/azeroth-server/bin/worldserver+0x93640c) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x7ffff70a9328 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 0x555558c48bb7 in World::SetInitialWorldSettings() /opt/wotlk_prod/src/server/game/World/World.cpp:2106:14
    #3 0x555555ee1b6e in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:306:13
    #4 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

SUMMARY: AddressSanitizer: heap-use-after-free /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:28 in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const
Shadow bytes around the buggy address:
  0x0c06814537b0: fa fa fa fa fa fa fa fa 00 00 00 fa fa fa 00 00
  0x0c06814537c0: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
  0x0c06814537d0: 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa
  0x0c06814537e0: fa fa 00 00 00 07 fa fa 00 00 00 07 fa fa 00 00
  0x0c06814537f0: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
=>0x0c0681453800: 00 00 00 fa fa fa 00 00 00 fa fa fa fd fd[fd]fa
  0x0c0681453810: fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00
  0x0c0681453820: 00 fa fa fa fd fd fd fa fa fa 00 00 00 fa fa fa
  0x0c0681453830: 00 00 00 fa fa fa fa fa fa fa fa fa 00 00 00 fa
  0x0c0681453840: fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00
  0x0c0681453850: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
=================================================================
==4332==ERROR: AddressSanitizer: heap-use-after-free on address 0x60300a2dc077 at pc 0x555556d98486 bp 0x7fffc27ce310 sp 0x7fffc27ce308
READ of size 8 at 0x60300a2dc077 thread T15
    #0 0x555556d98485 in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:28
    #1 0x555556d98485 in void std::__invoke_impl<void, boss_laj::ScheduleTasks()::'lambda0'()&>(std::__invoke_other, boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #2 0x555556d98485 in std::enable_if<is_invocable_r_v<void, boss_laj::ScheduleTasks()::'lambda0'()&>, void>::type std::__invoke_r<void, boss_laj::ScheduleTasks()::'lambda0'()&>(boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #3 0x555556d98485 in std::_Function_handler<void (), boss_laj::ScheduleTasks()::'lambda0'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #4 0x5555573d5038 in std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #5 0x5555573d5038 in ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2::operator()(TaskContext) const /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:330:9
    #6 0x5555573d5038 in void std::__invoke_impl<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(std::__invoke_other, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #7 0x5555573d5038 in std::enable_if<is_invocable_r_v<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>, void>::type std::__invoke_r<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #8 0x5555573d5038 in std::_Function_handler<void (TaskContext), ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2>::_M_invoke(std::_Any_data const&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #9 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #10 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #11 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #12 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #13 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #14 0x5555573d232c in BossAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:728:15
    #15 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #16 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #17 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #18 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #19 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #20 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #21 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #22 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #23 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #24 0x555558382cfe in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #25 0x555558382cfe in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:732:17
    #26 0x555558383616 in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:805:9
    #27 0x5555583a2f66 in InstanceMap::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:3043:10
    #28 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #29 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #30 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #31 0x7ffff6d31ac2 in start_thread nptl/./nptl/pthread_create.c:442:8
    #32 0x7ffff6dc384f  misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81

0x60300a2dc078 is located 0 bytes to the right of 24-byte region [0x60300a2dc060,0x60300a2dc078)
freed by thread T15 here:
    #0 0x555555edc5bd in operator delete(void*) (/opt/azeroth-server/bin/worldserver+0x9885bd) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x555556d98a3a in __gnu_cxx::new_allocator<std::_List_node<LajTransformData> >::deallocate(std::_List_node<LajTransformData>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:145:2
    #2 0x555556d98a3a in std::allocator<std::_List_node<LajTransformData> >::deallocate(std::_List_node<LajTransformData>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:199:25
    #3 0x555556d98a3a in std::allocator_traits<std::allocator<std::_List_node<LajTransformData> > >::deallocate(std::allocator<std::_List_node<LajTransformData> >&, std::_List_node<LajTransformData>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:496:13
    #4 0x555556d98a3a in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::_M_put_node(std::_List_node<LajTransformData>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:447:9
    #5 0x555556d98a3a in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::_M_clear() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/list.tcc:81:4
    #6 0x555556d98a3a in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::~_List_base() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:500:9
    #7 0x555556d98a3a in std::add_const<decltype(*(std::begin(fp)))>::type& Acore::Containers::SelectRandomContainerElementIf<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)>(std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > const&, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)&&) /opt/wotlk_prod/src/common/Utilities/Containers.h:153:5
    #8 0x555556d982cd in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:30
    #9 0x555556d982cd in void std::__invoke_impl<void, boss_laj::ScheduleTasks()::'lambda0'()&>(std::__invoke_other, boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #10 0x555556d982cd in std::enable_if<is_invocable_r_v<void, boss_laj::ScheduleTasks()::'lambda0'()&>, void>::type std::__invoke_r<void, boss_laj::ScheduleTasks()::'lambda0'()&>(boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #11 0x555556d982cd in std::_Function_handler<void (), boss_laj::ScheduleTasks()::'lambda0'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #12 0x5555573d5038 in std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #13 0x5555573d5038 in ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2::operator()(TaskContext) const /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:330:9
    #14 0x5555573d5038 in void std::__invoke_impl<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(std::__invoke_other, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #15 0x5555573d5038 in std::enable_if<is_invocable_r_v<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>, void>::type std::__invoke_r<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #16 0x5555573d5038 in std::_Function_handler<void (TaskContext), ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2>::_M_invoke(std::_Any_data const&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #17 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #18 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #19 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #20 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #21 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #22 0x5555573d232c in BossAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:728:15
    #23 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #24 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #25 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #26 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #27 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #28 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #29 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #30 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #31 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #32 0x555558382cfe in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #33 0x555558382cfe in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:732:17
    #34 0x555558383616 in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:805:9
    #35 0x5555583a2f66 in InstanceMap::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:3043:10
    #36 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #37 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #38 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

previously allocated by thread T15 here:
    #0 0x555555edbd5d in operator new(unsigned long) (/opt/azeroth-server/bin/worldserver+0x987d5d) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x555556d98750 in __gnu_cxx::new_allocator<std::_List_node<LajTransformData> >::allocate(unsigned long, void const*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:127:27
    #2 0x555556d98750 in std::allocator<std::_List_node<LajTransformData> >::allocate(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:185:32
    #3 0x555556d98750 in std::allocator_traits<std::allocator<std::_List_node<LajTransformData> > >::allocate(std::allocator<std::_List_node<LajTransformData> >&, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:464:20
    #4 0x555556d98750 in std::__cxx11::_List_base<LajTransformData, std::allocator<LajTransformData> >::_M_get_node() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:443:16
    #5 0x555556d98750 in std::_List_node<LajTransformData>* std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >::_M_create_node<LajTransformData const&>(LajTransformData const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_list.h:635:21
    #6 0x555556d98750 in std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >::insert(std::_List_const_iterator<LajTransformData>, LajTransformData const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/list.tcc:108:22
    #7 0x555556d98750 in std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > >::operator=(LajTransformData const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_iterator.h:929:20
    #8 0x555556d98750 in std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > > std::copy_if<std::_List_const_iterator<LajTransformData>, std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)>(std::_List_const_iterator<LajTransformData>, std::_List_const_iterator<LajTransformData>, std::insert_iterator<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algo.h:702:16
    #9 0x555556d98750 in std::add_const<decltype(*(std::begin(fp)))>::type& Acore::Containers::SelectRandomContainerElementIf<std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> >, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)>(std::__cxx11::list<LajTransformData, std::allocator<LajTransformData> > const&, boss_laj::ScheduleTasks()::'lambda0'()::operator()() const::'lambda'(LajTransformData)&&) /opt/wotlk_prod/src/common/Utilities/Containers.h:149:9
    #10 0x555556d982cd in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:30
    #11 0x555556d982cd in void std::__invoke_impl<void, boss_laj::ScheduleTasks()::'lambda0'()&>(std::__invoke_other, boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #12 0x555556d982cd in std::enable_if<is_invocable_r_v<void, boss_laj::ScheduleTasks()::'lambda0'()&>, void>::type std::__invoke_r<void, boss_laj::ScheduleTasks()::'lambda0'()&>(boss_laj::ScheduleTasks()::'lambda0'()&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #13 0x555556d982cd in std::_Function_handler<void (), boss_laj::ScheduleTasks()::'lambda0'()>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #14 0x5555573d5038 in std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #15 0x5555573d5038 in ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2::operator()(TaskContext) const /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:330:9
    #16 0x5555573d5038 in void std::__invoke_impl<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(std::__invoke_other, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #17 0x5555573d5038 in std::enable_if<is_invocable_r_v<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>, void>::type std::__invoke_r<void, ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext>(ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:111:2
    #18 0x5555573d5038 in std::_Function_handler<void (TaskContext), ScriptedAI::ScheduleTimedEvent(std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::function<void ()>, std::chrono::duration<long, std::ratio<1l, 1000l> >, std::chrono::duration<long, std::ratio<1l, 1000l> >, unsigned int)::$_2>::_M_invoke(std::_Any_data const&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:290:9
    #19 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #20 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #21 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #22 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #23 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #24 0x5555573d232c in BossAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/game/AI/ScriptedAI/ScriptedCreature.cpp:728:15
    #25 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #26 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #27 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #28 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #29 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #30 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #31 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #32 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #33 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #34 0x555558382cfe in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #35 0x555558382cfe in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:732:17
    #36 0x555558383616 in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:805:9
    #37 0x5555583a2f66 in InstanceMap::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:3043:10
    #38 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #39 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #40 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

SUMMARY: AddressSanitizer: heap-use-after-free /opt/wotlk_prod/src/server/scripts/Outland/TempestKeep/botanica/boss_laj.cpp:96:28 in boss_laj::ScheduleTasks()::'lambda0'()::operator()() const
Shadow bytes around the buggy address:
  0x0c06814537b0: fa fa fa fa fa fa fa fa 00 00 00 fa fa fa 00 00
  0x0c06814537c0: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
  0x0c06814537d0: 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa
  0x0c06814537e0: fa fa 00 00 00 07 fa fa 00 00 00 07 fa fa 00 00
  0x0c06814537f0: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
=>0x0c0681453800: 00 00 00 fa fa fa 00 00 00 fa fa fa fd fd[fd]fa
  0x0c0681453810: fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00
  0x0c0681453820: 00 fa fa fa fd fd fd fa fa fa 00 00 00 fa fa fa
  0x0c0681453830: 00 00 00 fa fa fa fa fa fa fa fa fa 00 00 00 fa
  0x0c0681453840: fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00
  0x0c0681453850: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
=================================================================
==4332==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x628000f1fbb8 at pc 0x5555580e473f bp 0x7fffffffcde0 sp 0x7fffffffcdd8
WRITE of size 8 at 0x628000f1fbb8 thread T0
    #0 0x5555580e473e in Player::SetGroupInvite(Group*) /opt/wotlk_prod/src/server/game/Entities/Player/Player.h:2475:55
    #1 0x5555580e473e in Group::RemoveAllInvites() /opt/wotlk_prod/src/server/game/Groups/Group.cpp:363:21
    #2 0x555557a8debf in Player::UninviteFromGroup() /opt/wotlk_prod/src/server/game/Entities/Player/Player.cpp:2342:20
    #3 0x5555581cccdb in WorldSession::HandleGroupDeclineOpcode(WorldPacket&) /opt/wotlk_prod/src/server/game/Handlers/GroupHandler.cpp:286:18
    #4 0x5555586565d5 in WorldSession::Update(unsigned int, PacketFilter&) /opt/wotlk_prod/src/server/game/Server/WorldSession.cpp:360:35
    #5 0x555558c8b938 in World::UpdateSessions(unsigned int) /opt/wotlk_prod/src/server/game/World/World.cpp:2848:24
    #6 0x555558c7826a in World::Update(unsigned int) /opt/wotlk_prod/src/server/game/World/World.cpp:2373:5
    #7 0x555555ef2614 in WorldUpdateLoop() /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:586:17
    #8 0x555555ee367a in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:398:5
    #9 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16
    #10 0x7ffff6cc6e3f in __libc_start_main csu/../csu/libc-start.c:392:3
    #11 0x555555e1e144 in _start (/opt/azeroth-server/bin/worldserver+0x8ca144) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)

0x628000f1fbb8 is located 527 bytes to the right of 14505-byte region [0x628000f1c100,0x628000f1f9a9)
freed by thread T18 here:
    #0 0x555555edc5bd in operator delete(void*) (/opt/azeroth-server/bin/worldserver+0x9885bd) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x5555586aaf11 in __gnu_cxx::new_allocator<unsigned char>::deallocate(unsigned char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:145:2
    #2 0x5555586aaf11 in std::allocator<unsigned char>::deallocate(unsigned char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:199:25
    #3 0x5555586aaf11 in std::allocator_traits<std::allocator<unsigned char> >::deallocate(std::allocator<unsigned char>&, unsigned char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:496:13
    #4 0x5555586aaf11 in std::_Vector_base<unsigned char, std::allocator<unsigned char> >::_M_deallocate(unsigned char*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_vector.h:354:4
    #5 0x5555586aaf11 in std::_Vector_base<unsigned char, std::allocator<unsigned char> >::~_Vector_base() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_vector.h:335:2
    #6 0x5555586aaf11 in std::vector<unsigned char, std::allocator<unsigned char> >::~vector() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_vector.h:683:7
    #7 0x5555586aaf11 in MessageBuffer::~MessageBuffer() /opt/wotlk_prod/src/common/Utilities/MessageBuffer.h:25:7
    #8 0x5555586aaf11 in void std::destroy_at<MessageBuffer>(MessageBuffer*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_construct.h:88:15
    #9 0x5555586aaf11 in void std::allocator_traits<std::allocator<MessageBuffer> >::destroy<MessageBuffer>(std::allocator<MessageBuffer>&, MessageBuffer*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:537:4
    #10 0x5555586aaf11 in std::deque<MessageBuffer, std::allocator<MessageBuffer> >::pop_front() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_deque.h:1538:6
    #11 0x5555586aaf11 in std::queue<MessageBuffer, std::deque<MessageBuffer, std::allocator<MessageBuffer> > >::pop() /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_queue.h:301:4
    #12 0x5555586aaf11 in Socket<WorldSocket>::HandleQueue() /opt/wotlk_prod/src/server/shared/Network/Socket.h:405:21
    #13 0x55555868d227 in Socket<WorldSocket>::Update() /opt/wotlk_prod/src/server/shared/Network/Socket.h:83:16
    #14 0x55555868d227 in WorldSocket::Update() /opt/wotlk_prod/src/server/game/Server/WorldSocket.cpp:213:22
    #15 0x5555586c58ec in NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)::operator()(std::shared_ptr<WorldSocket>) const /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:203:24
    #16 0x5555586c51dd in bool __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>::operator()<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/predefined_ops.h:318:16
    #17 0x5555586c56ae in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::__find_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)> >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>, std::random_access_iterator_tag) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algobase.h:2069:8
    #18 0x5555586c4bd3 in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::__find_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)> >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algobase.h:2114:14
    #19 0x5555586c4bd3 in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::__remove_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)> >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algo.h:816:17
    #20 0x5555586bc1ad in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::remove_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algo.h:894:14
    #21 0x5555586bc1ad in NetworkThread<WorldSocket>::Update() /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:201:24
    #22 0x5555586be2ae in NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)::operator()(boost::system::error_code const&) const /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:197:76
    #23 0x5555586be2ae in boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>::operator()() /usr/include/boost/asio/detail/bind_handler.hpp:65:5
    #24 0x5555586be2ae in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>, NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)>(boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>&, NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:51:3
    #25 0x5555586be2ae in void boost::asio::detail::handler_work<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::asio::execution::any_executor<boost::asio::execution::context_as_t<boost::asio::execution_context&>, boost::asio::execution::detail::blocking::never_t<0>, boost::asio::execution::prefer_only<boost::asio::execution::detail::blocking::possibly_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::tracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::untracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::fork_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::continuation_t<0> > >, void>::complete<boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code> >(boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>&, NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)&) /usr/include/boost/asio/detail/handler_work.hpp:425:7
    #26 0x5555586be2ae in boost::asio::detail::wait_handler<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::asio::execution::any_executor<boost::asio::execution::context_as_t<boost::asio::execution_context&>, boost::asio::execution::detail::blocking::never_t<0>, boost::asio::execution::prefer_only<boost::asio::execution::detail::blocking::possibly_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::tracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::untracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::fork_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::continuation_t<0> > > >::do_complete(void*, boost::asio::detail::scheduler_operation*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/wait_handler.hpp:76:9
    #27 0x555555f1c89c in boost::asio::detail::scheduler_operation::complete(void*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/scheduler_operation.hpp:40:5
    #28 0x555555f1c89c in boost::asio::detail::scheduler::do_run_one(boost::asio::detail::conditionally_enabled_mutex::scoped_lock&, boost::asio::detail::scheduler_thread_info&, boost::system::error_code const&) /usr/include/boost/asio/detail/impl/scheduler.ipp:481:12
    #29 0x555555f1b295 in boost::asio::detail::scheduler::run(boost::system::error_code&) /usr/include/boost/asio/detail/impl/scheduler.ipp:204:10
    #30 0x555555f3cf0b in boost::asio::io_context::run() /usr/include/boost/asio/impl/io_context.ipp:63:24
    #31 0x555555f3cf0b in Acore::Asio::IoContext::run() /opt/wotlk_prod/src/common/Asio/IoContext.h:38:42
    #32 0x5555586b982f in NetworkThread<WorldSocket>::Run() /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:184:20
    #33 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

previously allocated by thread T18 here:
    #0 0x555555edbd5d in operator new(unsigned long) (/opt/azeroth-server/bin/worldserver+0x987d5d) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x5555586a3e6e in __gnu_cxx::new_allocator<unsigned char>::allocate(unsigned long, void const*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:127:27
    #2 0x5555586a3e6e in std::allocator<unsigned char>::allocate(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:185:32
    #3 0x5555586a3e6e in std::allocator_traits<std::allocator<unsigned char> >::allocate(std::allocator<unsigned char>&, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:464:20
    #4 0x5555586a3e6e in std::_Vector_base<unsigned char, std::allocator<unsigned char> >::_M_allocate(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_vector.h:346:20
    #5 0x5555586a3e6e in std::vector<unsigned char, std::allocator<unsigned char> >::_M_default_append(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/vector.tcc:635:34
    #6 0x55555868c390 in std::vector<unsigned char, std::allocator<unsigned char> >::resize(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_vector.h:940:4
    #7 0x55555868c390 in MessageBuffer::MessageBuffer(unsigned long) /opt/wotlk_prod/src/common/Utilities/MessageBuffer.h:37:18
    #8 0x55555868c390 in WorldSocket::Update() /opt/wotlk_prod/src/server/game/Server/WorldSocket.cpp:169:23
    #9 0x5555586c58ec in NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)::operator()(std::shared_ptr<WorldSocket>) const /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:203:24
    #10 0x5555586c51dd in bool __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>::operator()<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/predefined_ops.h:318:16
    #11 0x5555586c56ae in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::__find_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)> >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>, std::random_access_iterator_tag) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algobase.h:2069:8
    #12 0x5555586c4bd3 in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::__find_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)> >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algobase.h:2114:14
    #13 0x5555586c4bd3 in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::__remove_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)> >(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__ops::_Iter_pred<NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algo.h:816:17
    #14 0x5555586bc1ad in __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > > std::remove_if<__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)>(__gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<WorldSocket>*, std::vector<std::shared_ptr<WorldSocket>, std::allocator<std::shared_ptr<WorldSocket> > > >, NetworkThread<WorldSocket>::Update()::'lambda'(std::shared_ptr<WorldSocket>)) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/stl_algo.h:894:14
    #15 0x5555586bc1ad in NetworkThread<WorldSocket>::Update() /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:201:24
    #16 0x5555586be2ae in NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)::operator()(boost::system::error_code const&) const /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:197:76
    #17 0x5555586be2ae in boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>::operator()() /usr/include/boost/asio/detail/bind_handler.hpp:65:5
    #18 0x5555586be2ae in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>, NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)>(boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>&, NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:51:3
    #19 0x5555586be2ae in void boost::asio::detail::handler_work<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::asio::execution::any_executor<boost::asio::execution::context_as_t<boost::asio::execution_context&>, boost::asio::execution::detail::blocking::never_t<0>, boost::asio::execution::prefer_only<boost::asio::execution::detail::blocking::possibly_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::tracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::untracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::fork_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::continuation_t<0> > >, void>::complete<boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code> >(boost::asio::detail::binder1<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::system::error_code>&, NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&)&) /usr/include/boost/asio/detail/handler_work.hpp:425:7
    #20 0x5555586be2ae in boost::asio::detail::wait_handler<NetworkThread<WorldSocket>::Update()::'lambda'(boost::system::error_code const&), boost::asio::execution::any_executor<boost::asio::execution::context_as_t<boost::asio::execution_context&>, boost::asio::execution::detail::blocking::never_t<0>, boost::asio::execution::prefer_only<boost::asio::execution::detail::blocking::possibly_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::tracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::outstanding_work::untracked_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::fork_t<0> >, boost::asio::execution::prefer_only<boost::asio::execution::detail::relationship::continuation_t<0> > > >::do_complete(void*, boost::asio::detail::scheduler_operation*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/wait_handler.hpp:76:9
    #21 0x555555f1c89c in boost::asio::detail::scheduler_operation::complete(void*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/scheduler_operation.hpp:40:5
    #22 0x555555f1c89c in boost::asio::detail::scheduler::do_run_one(boost::asio::detail::conditionally_enabled_mutex::scoped_lock&, boost::asio::detail::scheduler_thread_info&, boost::system::error_code const&) /usr/include/boost/asio/detail/impl/scheduler.ipp:481:12
    #23 0x555555f1b295 in boost::asio::detail::scheduler::run(boost::system::error_code&) /usr/include/boost/asio/detail/impl/scheduler.ipp:204:10
    #24 0x555555f3cf0b in boost::asio::io_context::run() /usr/include/boost/asio/impl/io_context.ipp:63:24
    #25 0x555555f3cf0b in Acore::Asio::IoContext::run() /opt/wotlk_prod/src/common/Asio/IoContext.h:38:42
    #26 0x5555586b982f in NetworkThread<WorldSocket>::Run() /opt/wotlk_prod/src/server/shared/Network/NetworkThread.h:184:20
    #27 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)

Thread T18 created by T0 here:
    #0 0x555555e8a40c in pthread_create (/opt/azeroth-server/bin/worldserver+0x93640c) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x7ffff70a9328 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 0x5555586b2d3d in SocketMgr<WorldSocket>::StartNetwork(Acore::Asio::IoContext&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short, int) /opt/wotlk_prod/src/server/shared/Network/SocketMgr.h:66:25
    #3 0x5555586af8b8 in WorldSocketMgr::StartWorldNetwork(Acore::Asio::IoContext&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short, int) /opt/wotlk_prod/src/server/game/Server/WorldSocketMgr.cpp:68:25
    #4 0x555555ee2c03 in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:351:26
    #5 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

SUMMARY: AddressSanitizer: heap-buffer-overflow /opt/wotlk_prod/src/server/game/Entities/Player/Player.h:2475:55 in Player::SetGroupInvite(Group*)
Shadow bytes around the buggy address:
  0x0c50801dbf20: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c50801dbf30: fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbf40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbf50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbf60: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x0c50801dbf70: fa fa fa fa fa fa fa[fa]fa fa fa fa fa fa fa fa
  0x0c50801dbf80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbf90: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbfa0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbfb0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c50801dbfc0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
=================================================================
==4332==ERROR: AddressSanitizer: global-buffer-overflow on address 0x55555a105ba0 at pc 0x5555565ab801 bp 0x7fffc3ad8870 sp 0x7fffc3ad8868
READ of size 4 at 0x55555a105ba0 thread T14
    #0 0x5555565ab800 in instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::CallNextRajaxxLeader(bool) /opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:257:87
    #1 0x5555565aaec9 in instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::OnUnitDeath(Unit*)::'lambda'(TaskContext)::operator()(TaskContext) const /opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:207:41
    #2 0x5555565aaec9 in void std::__invoke_impl<void, instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::OnUnitDeath(Unit*)::'lambda'(TaskContext)&, TaskContext>(std::__invoke_other, instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::OnUnitDeath(Unit*)::'lambda'(TaskContext)&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #3 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #4 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #5 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #6 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #7 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #8 0x55555830873a in InstanceScript::Update(unsigned int) /opt/wotlk_prod/src/server/game/Instances/InstanceScript.cpp:249:15
    #9 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #10 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #11 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #12 0x7ffff6d31ac2 in start_thread nptl/./nptl/pthread_create.c:442:8
    #13 0x7ffff6dc384f  misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81

0x55555a105ba0 is located 0 bytes to the right of global variable 'RajaxxWavesData' defined in '/opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:55:23' (0x55555a105aa0) of size 256
SUMMARY: AddressSanitizer: global-buffer-overflow /opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:257:87 in instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::CallNextRajaxxLeader(bool)
Shadow bytes around the buggy address:
  0x0aab2b418b20: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b30: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b40: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b50: f9 f9 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b418b60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x0aab2b418b70: 00 00 00 00[f9]f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b80: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b90: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418ba0: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418bb0: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418bc0: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
Thread T14 created by T0 here:
    #0 0x555555e8a40c in pthread_create (/opt/azeroth-server/bin/worldserver+0x93640c) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x7ffff70a9328 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 0x555558c48bb7 in World::SetInitialWorldSettings() /opt/wotlk_prod/src/server/game/World/World.cpp:2106:14
    #3 0x555555ee1b6e in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:306:13
    #4 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

=================================================================
==4332==ERROR: AddressSanitizer: global-buffer-overflow on address 0x55555a105ba4 at pc 0x5555565ab86d bp 0x7fffc3ad8870 sp 0x7fffc3ad8868
READ of size 4 at 0x55555a105ba4 thread T14
    #0 0x5555565ab86c in instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::CallNextRajaxxLeader(bool) /opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:265:83
    #1 0x5555565aaec9 in instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::OnUnitDeath(Unit*)::'lambda'(TaskContext)::operator()(TaskContext) const /opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:207:41
    #2 0x5555565aaec9 in void std::__invoke_impl<void, instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::OnUnitDeath(Unit*)::'lambda'(TaskContext)&, TaskContext>(std::__invoke_other, instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::OnUnitDeath(Unit*)::'lambda'(TaskContext)&, TaskContext&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/invoke.h:61:14
    #3 0x55555916ae40 in std::function<void (TaskContext)>::operator()(TaskContext) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/std_function.h:590:9
    #4 0x55555916ae40 in TaskContext::Invoke() /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:282:5
    #5 0x555559168891 in TaskScheduler::Dispatch(std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:109:17
    #6 0x5555591696be in TaskScheduler& TaskScheduler::Update<long, std::ratio<1l, 1000l> >(std::chrono::duration<long, std::ratio<1l, 1000l> > const&, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.h:221:9
    #7 0x5555591696be in TaskScheduler::Update(unsigned long, std::function<void ()> const&) /opt/wotlk_prod/src/common/Utilities/TaskScheduler.cpp:36:12
    #8 0x55555830873a in InstanceScript::Update(unsigned int) /opt/wotlk_prod/src/server/game/Instances/InstanceScript.cpp:249:15
    #9 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #10 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #11 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #12 0x7ffff6d31ac2 in start_thread nptl/./nptl/pthread_create.c:442:8
    #13 0x7ffff6dc384f  misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81

0x55555a105ba4 is located 4 bytes to the right of global variable 'RajaxxWavesData' defined in '/opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:55:23' (0x55555a105aa0) of size 256
SUMMARY: AddressSanitizer: global-buffer-overflow /opt/wotlk_prod/src/server/scripts/Kalimdor/RuinsOfAhnQiraj/instance_ruins_of_ahnqiraj.cpp:265:83 in instance_ruins_of_ahnqiraj::instance_ruins_of_ahnqiraj_InstanceMapScript::CallNextRajaxxLeader(bool)
Shadow bytes around the buggy address:
  0x0aab2b418b20: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b30: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b40: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b50: f9 f9 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b418b60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x0aab2b418b70: 00 00 00 00[f9]f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b80: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418b90: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418ba0: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418bb0: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b418bc0: f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9 f9
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
=================================================================
==4332==ERROR: AddressSanitizer: global-buffer-overflow on address 0x55555955eea8 at pc 0x555556b17160 bp 0x7fffc4de25b0 sp 0x7fffc4de25a8
READ of size 4 at 0x55555955eea8 thread T13
    #0 0x555556b1715f in npc_lord_illidan_stormrage::npc_lord_illidan_stormrageAI::SummonNextWave() /opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:1389:38
    #1 0x555556b1b641 in npc_lord_illidan_stormrage::npc_lord_illidan_stormrageAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:1189:21
    #2 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #3 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #4 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #5 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #6 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #7 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #8 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #9 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #10 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #11 0x555558382c1f in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #12 0x555558382c1f in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:726:13
    #13 0x5555583822d8 in Map::VisitNearbyCellsOfPlayer(Player*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:674:5
    #14 0x55555838372d in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:820:9
    #15 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #16 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #17 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #18 0x7ffff6d31ac2 in start_thread nptl/./nptl/pthread_create.c:442:8
    #19 0x7ffff6dc384f  misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81

0x55555955eea8 is located 24 bytes to the left of global variable 'SpawnLocation' defined in '/opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:844:17' (0x55555955eec0) of size 256
0x55555955eea8 is located 8 bytes to the right of global variable 'WavesInfo' defined in '/opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:871:25' (0x55555955ee60) of size 64
SUMMARY: AddressSanitizer: global-buffer-overflow /opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:1389:38 in npc_lord_illidan_stormrage::npc_lord_illidan_stormrageAI::SummonNextWave()
Shadow bytes around the buggy address:
  0x0aab2b2a3d80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3d90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3da0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3db0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3dc0: 00 00 00 00 00 00 00 00 00 03 f9 f9 00 00 00 00
=>0x0aab2b2a3dd0: 00 00 00 00 f9[f9]f9 f9 00 00 00 00 00 00 00 00
  0x0aab2b2a3de0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3df0: 00 00 00 00 00 00 00 00 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b2a3e00: 00 00 00 00 00 03 f9 f9 f9 f9 f9 f9 00 00 00 00
  0x0aab2b2a3e10: 00 f9 f9 f9 f9 f9 f9 f9 00 00 03 f9 f9 f9 f9 f9
  0x0aab2b2a3e20: 00 00 00 06 f9 f9 f9 f9 00 00 00 02 f9 f9 f9 f9
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
Thread T13 created by T0 here:
    #0 0x555555e8a40c in pthread_create (/opt/azeroth-server/bin/worldserver+0x93640c) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x7ffff70a9328 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc328) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #2 0x555558c48bb7 in World::SetInitialWorldSettings() /opt/wotlk_prod/src/server/game/World/World.cpp:2106:14
    #3 0x555555ee1b6e in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:306:13
    #4 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

=================================================================
==4332==ERROR: AddressSanitizer: global-buffer-overflow on address 0x55555955eeac at pc 0x555556b1719b bp 0x7fffc4de25b0 sp 0x7fffc4de25a8
READ of size 4 at 0x55555955eeac thread T13
    #0 0x555556b1719a in npc_lord_illidan_stormrage::npc_lord_illidan_stormrageAI::SummonNextWave() /opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:1390:42
    #1 0x555556b1b641 in npc_lord_illidan_stormrage::npc_lord_illidan_stormrageAI::UpdateAI(unsigned int) /opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:1189:21
    #2 0x5555578e441f in Creature::Update(unsigned int) /opt/wotlk_prod/src/server/game/Entities/Creature/Creature.cpp:828:23
    #3 0x5555580dbbb7 in void Acore::ObjectUpdater::Visit<Creature>(GridRefMgr<Creature>&) /opt/wotlk_prod/src/server/game/Grids/Notifiers/GridNotifiers.cpp:366:18
    #4 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature>(Acore::ObjectUpdater&, ContainerMapList<Creature>&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:43:7
    #5 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:49:5
    #6 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > >(Acore::ObjectUpdater&, ContainerMapList<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:50:5
    #7 0x5555583c74f7 in void VisitorHelper<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(Acore::ObjectUpdater&, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:56:5
    #8 0x5555583c74f7 in TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >::Visit(TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >&) /opt/wotlk_prod/src/common/Dynamic/TypeContainerVisitor.h:90:9
    #9 0x5555583c74f7 in void Grid<Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::Visit<Acore::ObjectUpdater>(TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/Grid.h:89:17
    #10 0x5555583c74f7 in void NGrid<8u, Player, TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > >, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >::VisitGrid<Acore::ObjectUpdater, TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > >(unsigned int, unsigned int, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Grids/NGrid.h:102:27
    #11 0x555558382c1f in void Map::Visit<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >(Cell const&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.h:881:25
    #12 0x555558382c1f in Map::VisitNearbyCellsOf(WorldObject*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:726:13
    #13 0x5555583822d8 in Map::VisitNearbyCellsOfPlayer(Player*, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Creature, TypeList<DynamicObject, TypeList<Corpse, TypeNull> > > > > >&, TypeContainerVisitor<Acore::ObjectUpdater, TypeMapContainer<TypeList<GameObject, TypeList<Player, TypeList<Creature, TypeList<Corpse, TypeList<DynamicObject, TypeNull> > > > > > >&) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:674:5
    #14 0x55555838372d in Map::Update(unsigned int, unsigned int, bool) /opt/wotlk_prod/src/server/game/Maps/Map.cpp:820:9
    #15 0x5555583d7112 in MapUpdateRequest::call() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:44:15
    #16 0x5555583d552e in MapUpdater::WorkerThread() /opt/wotlk_prod/src/server/game/Maps/MapUpdater.cpp:158:22
    #17 0x7ffff70a9252  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xdc252) (BuildId: e37fe1a879783838de78cbc8c80621fa685d58a2)
    #18 0x7ffff6d31ac2 in start_thread nptl/./nptl/pthread_create.c:442:8
    #19 0x7ffff6dc384f  misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81

0x55555955eeac is located 20 bytes to the left of global variable 'SpawnLocation' defined in '/opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:844:17' (0x55555955eec0) of size 256
0x55555955eeac is located 12 bytes to the right of global variable 'WavesInfo' defined in '/opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:871:25' (0x55555955ee60) of size 64
SUMMARY: AddressSanitizer: global-buffer-overflow /opt/wotlk_prod/src/server/scripts/Outland/zone_shadowmoon_valley.cpp:1390:42 in npc_lord_illidan_stormrage::npc_lord_illidan_stormrageAI::SummonNextWave()
Shadow bytes around the buggy address:
  0x0aab2b2a3d80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3d90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3da0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3db0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3dc0: 00 00 00 00 00 00 00 00 00 03 f9 f9 00 00 00 00
=>0x0aab2b2a3dd0: 00 00 00 00 f9[f9]f9 f9 00 00 00 00 00 00 00 00
  0x0aab2b2a3de0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0aab2b2a3df0: 00 00 00 00 00 00 00 00 f9 f9 f9 f9 f9 f9 f9 f9
  0x0aab2b2a3e00: 00 00 00 00 00 03 f9 f9 f9 f9 f9 f9 00 00 00 00
  0x0aab2b2a3e10: 00 f9 f9 f9 f9 f9 f9 f9 00 00 03 f9 f9 f9 f9 f9
  0x0aab2b2a3e20: 00 00 00 06 f9 f9 f9 f9 00 00 00 02 f9 f9 f9 f9
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
=================================================================
==4332==ERROR: AddressSanitizer: heap-use-after-free on address 0x602000dbe0b0 at pc 0x555558cebecc bp 0x7fffffffcc90 sp 0x7fffffffcc88
READ of size 8 at 0x602000dbe0b0 thread T0
    #0 0x555558cebecb in CalendarMgr::RemovePlayerGuildEventsAndSignups(ObjectGuid, unsigned int) /opt/wotlk_prod/src/server/game/Calendar/CalendarMgr.cpp
    #1 0x55555813cc61 in Guild::HandleLeaveMember(WorldSession*) /opt/wotlk_prod/src/server/game/Guilds/Guild.cpp:1534:19
    #2 0x555558dc8c0f in WorldSession::HandleGuildLeaveOpcode(WorldPackets::Guild::GuildLeave&) /opt/wotlk_prod/src/server/game/Handlers/GuildHandler.cpp:121:16
    #3 0x5555588d9664 in PacketHandler<WorldPackets::Guild::GuildLeave, &(WorldSession::HandleGuildLeaveOpcode(WorldPackets::Guild::GuildLeave&))>::Call(WorldSession*, WorldPacket&) const /opt/wotlk_prod/src/server/game/Server/Protocol/Opcodes.cpp:35:9
    #4 0x5555586565d5 in WorldSession::Update(unsigned int, PacketFilter&) /opt/wotlk_prod/src/server/game/Server/WorldSession.cpp:360:35
    #5 0x555558c8b938 in World::UpdateSessions(unsigned int) /opt/wotlk_prod/src/server/game/World/World.cpp:2848:24
    #6 0x555558c7826a in World::Update(unsigned int) /opt/wotlk_prod/src/server/game/World/World.cpp:2373:5
    #7 0x555555ef2614 in WorldUpdateLoop() /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:586:17
    #8 0x555555ee367a in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:398:5
    #9 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16
    #10 0x7ffff6cc6e3f in __libc_start_main csu/../csu/libc-start.c:392:3
    #11 0x555555e1e144 in _start (/opt/azeroth-server/bin/worldserver+0x8ca144) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)

0x602000dbe0b0 is located 0 bytes inside of 16-byte region [0x602000dbe0b0,0x602000dbe0c0)
freed by thread T0 here:
    #0 0x555555edc5bd in operator delete(void*) (/opt/azeroth-server/bin/worldserver+0x9885bd) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x555558cf432f in __gnu_cxx::new_allocator<std::__detail::_Hash_node<CalendarEvent*, false> >::deallocate(std::__detail::_Hash_node<CalendarEvent*, false>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:145:2
    #2 0x555558cf432f in std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> >::deallocate(std::__detail::_Hash_node<CalendarEvent*, false>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:199:25
    #3 0x555558cf432f in std::allocator_traits<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > >::deallocate(std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> >&, std::__detail::_Hash_node<CalendarEvent*, false>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:496:13
    #4 0x555558cf432f in std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > >::_M_deallocate_node_ptr(std::__detail::_Hash_node<CalendarEvent*, false>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable_policy.h:1905:7
    #5 0x555558cf432f in std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > >::_M_deallocate_node(std::__detail::_Hash_node<CalendarEvent*, false>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable_policy.h:1895:7
    #6 0x555558cf432f in std::_Hashtable<CalendarEvent*, CalendarEvent*, std::allocator<CalendarEvent*>, std::__detail::_Identity, std::equal_to<CalendarEvent*>, std::hash<CalendarEvent*>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_erase(unsigned long, std::__detail::_Hash_node_base*, std::__detail::_Hash_node<CalendarEvent*, false>*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable.h:2183:13
    #7 0x555558cf432f in std::_Hashtable<CalendarEvent*, CalendarEvent*, std::allocator<CalendarEvent*>, std::__detail::_Identity, std::equal_to<CalendarEvent*>, std::hash<CalendarEvent*>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_erase(std::integral_constant<bool, true>, CalendarEvent* const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable.h:2209:7
    #8 0x555558ce7a6b in std::_Hashtable<CalendarEvent*, CalendarEvent*, std::allocator<CalendarEvent*>, std::__detail::_Identity, std::equal_to<CalendarEvent*>, std::hash<CalendarEvent*>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::erase(CalendarEvent* const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable.h:938:16
    #9 0x555558ce7a6b in std::unordered_set<CalendarEvent*, std::hash<CalendarEvent*>, std::equal_to<CalendarEvent*>, std::allocator<CalendarEvent*> >::erase(CalendarEvent* const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/unordered_set.h:546:21
    #10 0x555558ce7a6b in CalendarMgr::RemoveEvent(CalendarEvent*, ObjectGuid) /opt/wotlk_prod/src/server/game/Calendar/CalendarMgr.cpp:207:13
    #11 0x555558cebea1 in CalendarMgr::RemoveEvent(unsigned long, ObjectGuid) /opt/wotlk_prod/src/server/game/Calendar/CalendarMgr.cpp:167:5
    #12 0x555558cebea1 in CalendarMgr::RemovePlayerGuildEventsAndSignups(ObjectGuid, unsigned int) /opt/wotlk_prod/src/server/game/Calendar/CalendarMgr.cpp:298:13
    #13 0x55555813cc61 in Guild::HandleLeaveMember(WorldSession*) /opt/wotlk_prod/src/server/game/Guilds/Guild.cpp:1534:19
    #14 0x555558dc8c0f in WorldSession::HandleGuildLeaveOpcode(WorldPackets::Guild::GuildLeave&) /opt/wotlk_prod/src/server/game/Handlers/GuildHandler.cpp:121:16
    #15 0x5555588d9664 in PacketHandler<WorldPackets::Guild::GuildLeave, &(WorldSession::HandleGuildLeaveOpcode(WorldPackets::Guild::GuildLeave&))>::Call(WorldSession*, WorldPacket&) const /opt/wotlk_prod/src/server/game/Server/Protocol/Opcodes.cpp:35:9
    #16 0x5555586565d5 in WorldSession::Update(unsigned int, PacketFilter&) /opt/wotlk_prod/src/server/game/Server/WorldSession.cpp:360:35
    #17 0x555558c8b938 in World::UpdateSessions(unsigned int) /opt/wotlk_prod/src/server/game/World/World.cpp:2848:24
    #18 0x555558c7826a in World::Update(unsigned int) /opt/wotlk_prod/src/server/game/World/World.cpp:2373:5
    #19 0x555555ef2614 in WorldUpdateLoop() /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:586:17
    #20 0x555555ee367a in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:398:5
    #21 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

previously allocated by thread T0 here:
    #0 0x555555edbd5d in operator new(unsigned long) (/opt/azeroth-server/bin/worldserver+0x987d5d) (BuildId: f60063e4adc41f35c6242ce39725b4df1b98f33d)
    #1 0x555558cf1bf1 in __gnu_cxx::new_allocator<std::__detail::_Hash_node<CalendarEvent*, false> >::allocate(unsigned long, void const*) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/ext/new_allocator.h:127:27
    #2 0x555558cf1bf1 in std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> >::allocate(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/allocator.h:185:32
    #3 0x555558cf1bf1 in std::allocator_traits<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > >::allocate(std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> >&, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/alloc_traits.h:464:20
    #4 0x555558cf1bf1 in std::__detail::_Hash_node<CalendarEvent*, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > >::_M_allocate_node<CalendarEvent* const&>(CalendarEvent* const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable_policy.h:1873:16
    #5 0x555558cf1bf1 in std::__detail::_Hash_node<CalendarEvent*, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > >::operator()<CalendarEvent* const&>(CalendarEvent* const&) const /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable_policy.h:168:16
    #6 0x555558cf1bf1 in std::pair<std::__detail::_Node_iterator<CalendarEvent*, true, false>, bool> std::_Hashtable<CalendarEvent*, CalendarEvent*, std::allocator<CalendarEvent*>, std::__detail::_Identity, std::equal_to<CalendarEvent*>, std::hash<CalendarEvent*>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<CalendarEvent* const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > > >(CalendarEvent* const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<CalendarEvent*, false> > > const&, std::integral_constant<bool, true>) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable.h:2108:23
    #7 0x555558cdd991 in std::__detail::_Insert_base<CalendarEvent*, CalendarEvent*, std::allocator<CalendarEvent*>, std::__detail::_Identity, std::equal_to<CalendarEvent*>, std::hash<CalendarEvent*>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(CalendarEvent* const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/hashtable_policy.h:844:13
    #8 0x555558cdd991 in std::unordered_set<CalendarEvent*, std::hash<CalendarEvent*>, std::equal_to<CalendarEvent*>, std::allocator<CalendarEvent*> >::insert(CalendarEvent* const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/unordered_set.h:422:21
    #9 0x555558cdd991 in CalendarMgr::LoadFromDB() /opt/wotlk_prod/src/server/game/Calendar/CalendarMgr.cpp:90:21
    #10 0x555558c475f8 in World::SetInitialWorldSettings() /opt/wotlk_prod/src/server/game/World/World.cpp:2065:19
    #11 0x555555ee1b6e in main /opt/wotlk_prod/src/server/apps/worldserver/Main.cpp:306:13
    #12 0x7ffff6cc6d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

SUMMARY: AddressSanitizer: heap-use-after-free /opt/wotlk_prod/src/server/game/Calendar/CalendarMgr.cpp in CalendarMgr::RemovePlayerGuildEventsAndSignups(ObjectGuid, unsigned int)
Shadow bytes around the buggy address:
  0x0c04801afbc0: fa fa 00 00 fa fa 00 00 fa fa 00 01 fa fa 00 00
  0x0c04801afbd0: fa fa 00 00 fa fa 00 01 fa fa 00 00 fa fa 00 00
  0x0c04801afbe0: fa fa 00 01 fa fa 00 00 fa fa 00 00 fa fa 00 01
  0x0c04801afbf0: fa fa 00 00 fa fa 00 00 fa fa 00 01 fa fa 00 00
  0x0c04801afc00: fa fa 00 00 fa fa 00 01 fa fa 00 00 fa fa 00 00
=>0x0c04801afc10: fa fa 00 01 fa fa[fd]fd fa fa 00 00 fa fa 00 01
  0x0c04801afc20: fa fa 00 00 fa fa 00 00 fa fa 00 01 fa fa 00 00
  0x0c04801afc30: fa fa 00 00 fa fa 00 01 fa fa 00 00 fa fa 00 00
  0x0c04801afc40: fa fa 00 01 fa fa 00 00 fa fa 00 00 fa fa 00 01
  0x0c04801afc50: fa fa 00 00 fa fa 00 00 fa fa 00 01 fa fa 00 00
  0x0c04801afc60: fa fa 00 00 fa fa 00 01 fa fa 00 00 fa fa 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
